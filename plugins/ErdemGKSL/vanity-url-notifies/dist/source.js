(function(e,u,s,l){"use strict";function f(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var p=f(l);let a={};async function o({guild:t}){const r=a[t.id];if(!r){a[t.id]=t.vanity_url_code;return}if(r===t.vanity_url_code)return;a[t.id]=t.vanity_url_code,(s.persist.ghost.settings.notifyUrls?.split(",").map(i=>i.trim())||[]).includes(r)&&u.notifications.show(s.i18n.format("NOTIFICATION",t.name,r,t.vanity_url_code)),_(r,t.vanity_url_code,t.name)}function _(t,r,n){const i=JSON.parse(s.persist.ghost.logs??"[]");i.length>=10&&i.shift(),i.push({o:t,n:r,t:Date.now(),g:n}),s.persist.store.logs=JSON.stringify(i),c(i)}function c(t){t||(t=JSON.parse(s.persist.ghost.logs??"[]"));const r=t.map(({o:n,n:i,t:d,g:y})=>s.i18n.format("LOG",new Date(d).toLocaleString(),y,n,i)).reverse().join(`
`)||"No logs yet.";s.persist.store.settings.logs=r}var h={load(){e.FluxDispatcher.subscribe("GUILD_UPDATE",o),e.FluxDispatcher.subscribe("GUILD_CREATE",o),setTimeout(()=>Object.values(e.GuildStore.__getLocalVars().guilds).forEach(t=>a[t.id]=t.vanityURLCode),1e3),s.subscriptions.push(()=>e.FluxDispatcher.unsubscribe("GUILD_UPDATE",o)),s.subscriptions.push(()=>e.FluxDispatcher.unsubscribe("GUILD_CREATE",o)),s.subscriptions.push(()=>a={}),s.subscriptions.push(p.default.on("LocaleChange",()=>c())),c()},unload(){}};return h})($acord.modules.common,$acord.ui,$acord.extension,$acord.events);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic291cmNlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3VpbGRTdG9yZSwgRmx1eERpc3BhdGNoZXIgfSBmcm9tIFwiQGFjb3JkL21vZHVsZXMvY29tbW9uXCI7XHJcbmltcG9ydCB7IG5vdGlmaWNhdGlvbnMgfSBmcm9tIFwiQGFjb3JkL3VpXCJcclxuaW1wb3J0IHsgc3Vic2NyaXB0aW9ucywgcGVyc2lzdCwgaTE4biwgbWFuaWZlc3QgfSBmcm9tIFwiQGFjb3JkL2V4dGVuc2lvblwiO1xyXG5pbXBvcnQgZXZlbnRzIGZyb20gXCJAYWNvcmQvZXZlbnRzXCI7XHJcblxyXG5sZXQgZ3VpbGRWYW5pdHlDYWNoZSA9IHt9O1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gbGlzdGVuZXIoeyBndWlsZCB9KSB7XHJcbiAgY29uc3Qgb2xkVmFuaXR5ID0gZ3VpbGRWYW5pdHlDYWNoZVtndWlsZC5pZF07XHJcbiAgaWYgKCFvbGRWYW5pdHkpIHtcclxuICAgIGd1aWxkVmFuaXR5Q2FjaGVbZ3VpbGQuaWRdID0gZ3VpbGQudmFuaXR5X3VybF9jb2RlO1xyXG4gICAgcmV0dXJuO1xyXG4gIH07XHJcbiAgaWYgKG9sZFZhbml0eSA9PT0gZ3VpbGQudmFuaXR5X3VybF9jb2RlKSByZXR1cm47XHJcbiAgZ3VpbGRWYW5pdHlDYWNoZVtndWlsZC5pZF0gPSBndWlsZC52YW5pdHlfdXJsX2NvZGU7XHJcbiAgY29uc3Qgbm90aWZ5VXJscyA9IHBlcnNpc3QuZ2hvc3Quc2V0dGluZ3Mubm90aWZ5VXJscz8uc3BsaXQoXCIsXCIpLm1hcCh1cmwgPT4gdXJsLnRyaW0oKSkgfHwgW107XHJcbiAgaWYgKG5vdGlmeVVybHMuaW5jbHVkZXMob2xkVmFuaXR5KSkgbm90aWZpY2F0aW9ucy5zaG93KFxyXG4gICAgaTE4bi5mb3JtYXQoXCJOT1RJRklDQVRJT05cIiwgZ3VpbGQubmFtZSwgb2xkVmFuaXR5LCBndWlsZC52YW5pdHlfdXJsX2NvZGUpXHJcbiAgKTtcclxuICBsb2cob2xkVmFuaXR5LCBndWlsZC52YW5pdHlfdXJsX2NvZGUsIGd1aWxkLm5hbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2cob2xkVmFuaXR5LCBuZXdWYW5pdHksIGd1aWxkTmFtZSkge1xyXG4gIGNvbnN0IGxvZ1VybHMgPSBKU09OLnBhcnNlKHBlcnNpc3QuZ2hvc3QubG9ncyA/PyBcIltdXCIpO1xyXG4gIGlmIChsb2dVcmxzLmxlbmd0aCA+PSAxMCkgbG9nVXJscy5zaGlmdCgpO1xyXG4gIGxvZ1VybHMucHVzaCh7IG86IG9sZFZhbml0eSwgbjogbmV3VmFuaXR5LCB0OiBEYXRlLm5vdygpLCBnOiBndWlsZE5hbWUgfSk7XHJcbiAgcGVyc2lzdC5zdG9yZS5sb2dzID0gSlNPTi5zdHJpbmdpZnkobG9nVXJscyk7XHJcbiAgZm9ybWF0TG9nKGxvZ1VybHMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JtYXRMb2cobG9nVXJscykge1xyXG4gIGlmICghbG9nVXJscykgbG9nVXJscyA9IEpTT04ucGFyc2UocGVyc2lzdC5naG9zdC5sb2dzID8/IFwiW11cIik7XHJcbiAgY29uc3QgdGV4dCA9IGxvZ1VybHMubWFwKCh7IG8sIG4sIHQsIGcgfSkgPT4gaTE4bi5mb3JtYXQoXCJMT0dcIiwgbmV3IERhdGUodCkudG9Mb2NhbGVTdHJpbmcoKSwgZywgbywgbikpLnJldmVyc2UoKS5qb2luKFwiXFxuXCIpIHx8IFwiTm8gbG9ncyB5ZXQuXCI7XHJcbiAgcGVyc2lzdC5zdG9yZS5zZXR0aW5ncy5sb2dzID0gdGV4dDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGxvYWQoKSB7XHJcbiAgICBGbHV4RGlzcGF0Y2hlci5zdWJzY3JpYmUoXCJHVUlMRF9VUERBVEVcIiwgbGlzdGVuZXIpO1xyXG4gICAgRmx1eERpc3BhdGNoZXIuc3Vic2NyaWJlKFwiR1VJTERfQ1JFQVRFXCIsIGxpc3RlbmVyKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gT2JqZWN0LnZhbHVlcyhHdWlsZFN0b3JlLl9fZ2V0TG9jYWxWYXJzKCkuZ3VpbGRzKS5mb3JFYWNoKGd1aWxkID0+IGd1aWxkVmFuaXR5Q2FjaGVbZ3VpbGQuaWRdID0gZ3VpbGQudmFuaXR5VVJMQ29kZSksIDEwMDApO1xyXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IEZsdXhEaXNwYXRjaGVyLnVuc3Vic2NyaWJlKFwiR1VJTERfVVBEQVRFXCIsIGxpc3RlbmVyKSk7XHJcbiAgICBzdWJzY3JpcHRpb25zLnB1c2goKCkgPT4gRmx1eERpc3BhdGNoZXIudW5zdWJzY3JpYmUoXCJHVUlMRF9DUkVBVEVcIiwgbGlzdGVuZXIpKTtcclxuICAgIHN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiBndWlsZFZhbml0eUNhY2hlID0ge30pO1xyXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKGV2ZW50cy5vbihcIkxvY2FsZUNoYW5nZVwiLCAoKSA9PiBmb3JtYXRMb2coKSkpO1xyXG4gICAgZm9ybWF0TG9nKCk7XHJcbiAgfSxcclxuICB1bmxvYWQoKSB7fVxyXG59Il0sIm5hbWVzIjpbInBlcnNpc3QiLCJub3RpZmljYXRpb25zIiwiaTE4biIsIkZsdXhEaXNwYXRjaGVyIiwiR3VpbGRTdG9yZSIsInN1YnNjcmlwdGlvbnMiLCJldmVudHMiXSwibWFwcGluZ3MiOiJpTkFJQSxJQUFJLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztBQUMxQixlQUFlLFFBQVEsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFO0FBQ25DLEVBQUUsTUFBTSxTQUFTLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQy9DLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRTtBQUNsQixJQUFJLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDO0FBQ3ZELElBQUksT0FBTztBQUNYLEdBQUc7QUFFSCxFQUFFLElBQUksU0FBUyxLQUFLLEtBQUssQ0FBQyxlQUFlO0FB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
