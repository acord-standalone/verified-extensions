(function(o,u,t){"use strict";let a={};async function e({guild:s}){const r=a[s.id];if(!r){a[s.id]=s.vanity_url_code;return}if(r===s.vanity_url_code)return;a[s.id]=s.vanity_url_code,(t.persist.ghost.settings.notifyUrls?.split(",").map(i=>i.trim())||[]).includes(r)&&u.notifications.show(t.i18n.format("NOTIFICATION",s.name,r,s.vanity_url_code)),l(r,s.vanity_url_code,s.name)}async function l(s,r,c){const i=JSON.parse(t.persist.ghost.logs??"[]");i.length>=10&&i.shift(),i.push({o:s,n:r,t:Date.now(),g:c}),t.persist.store.logs=JSON.stringify(i),n(i)}async function n(s){s||(s=JSON.parse(t.persist.ghost.logs??"[]"));const r=s.map(({o:c,n:i,t:f,g:h})=>t.i18n.format("LOG",new Date(f).toLocaleString(),h,c,i)).reverse().join(`
`)||"No logs yet.";t.persist.store.settings.logs=r}var p={load(){o.FluxDispatcher.subscribe("GUILD_UPDATE",e),o.FluxDispatcher.subscribe("GUILD_CREATE",e),setTimeout(()=>Object.values(o.GuildStore.__getLocalVars().guilds).forEach(s=>a[s.id]=s.vanityURLCode),1e3),t.subscriptions.push(()=>o.FluxDispatcher.unsubscribe("GUILD_UPDATE",e)),t.subscriptions.push(()=>o.FluxDispatcher.unsubscribe("GUILD_CREATE",e)),t.subscriptions.push(()=>a={}),n()},unload(){}};return p})($acord.modules.common,$acord.ui,$acord.extension);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic291cmNlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3VpbGRTdG9yZSwgRmx1eERpc3BhdGNoZXIgfSBmcm9tIFwiQGFjb3JkL21vZHVsZXMvY29tbW9uXCI7XHJcbmltcG9ydCB7IG5vdGlmaWNhdGlvbnMgfSBmcm9tIFwiQGFjb3JkL3VpXCJcclxuaW1wb3J0IHsgc3Vic2NyaXB0aW9ucywgcGVyc2lzdCwgaTE4biwgbWFuaWZlc3QgfSBmcm9tIFwiQGFjb3JkL2V4dGVuc2lvblwiO1xyXG5cclxubGV0IGd1aWxkVmFuaXR5Q2FjaGUgPSB7fTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxpc3RlbmVyKHsgZ3VpbGQgfSkge1xyXG4gIGNvbnN0IG9sZFZhbml0eSA9IGd1aWxkVmFuaXR5Q2FjaGVbZ3VpbGQuaWRdO1xyXG4gIGlmICghb2xkVmFuaXR5KSB7XHJcbiAgICBndWlsZFZhbml0eUNhY2hlW2d1aWxkLmlkXSA9IGd1aWxkLnZhbml0eV91cmxfY29kZTtcclxuICAgIHJldHVybjtcclxuICB9O1xyXG4gIGlmIChvbGRWYW5pdHkgPT09IGd1aWxkLnZhbml0eV91cmxfY29kZSkgcmV0dXJuO1xyXG4gIGd1aWxkVmFuaXR5Q2FjaGVbZ3VpbGQuaWRdID0gZ3VpbGQudmFuaXR5X3VybF9jb2RlO1xyXG4gIGNvbnN0IG5vdGlmeVVybHMgPSBwZXJzaXN0Lmdob3N0LnNldHRpbmdzLm5vdGlmeVVybHM/LnNwbGl0KFwiLFwiKS5tYXAodXJsID0+IHVybC50cmltKCkpIHx8IFtdO1xyXG4gIGlmIChub3RpZnlVcmxzLmluY2x1ZGVzKG9sZFZhbml0eSkpIG5vdGlmaWNhdGlvbnMuc2hvdyhcclxuICAgIGkxOG4uZm9ybWF0KFwiTk9USUZJQ0FUSU9OXCIsIGd1aWxkLm5hbWUsIG9sZFZhbml0eSwgZ3VpbGQudmFuaXR5X3VybF9jb2RlKVxyXG4gICk7XHJcbiAgbG9nKG9sZFZhbml0eSwgZ3VpbGQudmFuaXR5X3VybF9jb2RlLCBndWlsZC5uYW1lKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9nKG9sZFZhbml0eSwgbmV3VmFuaXR5LCBndWlsZE5hbWUpIHtcclxuICBjb25zdCBsb2dVcmxzID0gSlNPTi5wYXJzZShwZXJzaXN0Lmdob3N0LmxvZ3MgPz8gXCJbXVwiKTtcclxuICBpZiAobG9nVXJscy5sZW5ndGggPj0gMTApIGxvZ1VybHMuc2hpZnQoKTtcclxuICBsb2dVcmxzLnB1c2goeyBvOiBvbGRWYW5pdHksIG46IG5ld1Zhbml0eSwgdDogRGF0ZS5ub3coKSwgZzogZ3VpbGROYW1lIH0pO1xyXG4gIHBlcnNpc3Quc3RvcmUubG9ncyA9IEpTT04uc3RyaW5naWZ5KGxvZ1VybHMpO1xyXG4gIGZvcm1hdExvZyhsb2dVcmxzKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZm9ybWF0TG9nKGxvZ1VybHMpIHtcclxuICBpZiAoIWxvZ1VybHMpIGxvZ1VybHMgPSBKU09OLnBhcnNlKHBlcnNpc3QuZ2hvc3QubG9ncyA/PyBcIltdXCIpO1xyXG4gIGNvbnN0IHRleHQgPSBsb2dVcmxzLm1hcCgoeyBvLCBuLCB0LCBnIH0pID0+IGkxOG4uZm9ybWF0KFwiTE9HXCIsIG5ldyBEYXRlKHQpLnRvTG9jYWxlU3RyaW5nKCksIGcsIG8sIG4pKS5yZXZlcnNlKCkuam9pbihcIlxcblwiKSB8fCBcIk5vIGxvZ3MgeWV0LlwiO1xyXG4gIHBlcnNpc3Quc3RvcmUuc2V0dGluZ3MubG9ncyA9IHRleHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBsb2FkKCkge1xyXG4gICAgRmx1eERpc3BhdGNoZXIuc3Vic2NyaWJlKFwiR1VJTERfVVBEQVRFXCIsIGxpc3RlbmVyKTtcclxuICAgIEZsdXhEaXNwYXRjaGVyLnN1YnNjcmliZShcIkdVSUxEX0NSRUFURVwiLCBsaXN0ZW5lcik7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IE9iamVjdC52YWx1ZXMoR3VpbGRTdG9yZS5fX2dldExvY2FsVmFycygpLmd1aWxkcykuZm9yRWFjaChndWlsZCA9PiBndWlsZFZhbml0eUNhY2hlW2d1aWxkLmlkXSA9IGd1aWxkLnZhbml0eVVSTENvZGUpLCAxMDAwKTtcclxuICAgIHN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiBGbHV4RGlzcGF0Y2hlci51bnN1YnNjcmliZShcIkdVSUxEX1VQREFURVwiLCBsaXN0ZW5lcikpO1xyXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IEZsdXhEaXNwYXRjaGVyLnVuc3Vic2NyaWJlKFwiR1VJTERfQ1JFQVRFXCIsIGxpc3RlbmVyKSk7XHJcbiAgICBzdWJzY3JpcHRpb25zLnB1c2goKCkgPT4gZ3VpbGRWYW5pdHlDYWNoZSA9IHt9KTtcclxuICAgIGZvcm1hdExvZygpO1xyXG4gIH0sXHJcbiAgdW5sb2FkKCkge31cclxufSJdLCJuYW1lcyI6WyJwZXJzaXN0Iiwibm90aWZpY2F0aW9ucyIsImkxOG4iLCJGbHV4RGlzcGF0Y2hlciIsIkd1aWxkU3RvcmUiLCJzdWJzY3JpcHRpb25zIl0sIm1hcHBpbmdzIjoiNENBR0EsSUFBSSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7QUFDMUIsZUFBZSxRQUFRLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRTtBQUNuQyxFQUFFLE1BQU0sU0FBUyxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUMvQyxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDbEIsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLGVBQWUsQ0FBQztBQUN2RCxJQUFJLE9BQU87QUFDWCxHQUFHO0FBRUgsRUFBRSxJQUFJLFNBQVMsS0FBSyxLQUFLLENBQUMsZUFBZTtBQUN6QyxJQUFJLE9BQU87QUFDWCxFQUFFLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDO0FBQ3JELEVBQUUsTUFBTSxVQUFVLEdBQUdBLGlCQUFP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
