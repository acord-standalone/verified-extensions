(function(e,u,s,l){"use strict";function f(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var p=f(l);let a={};async function o({guild:t}){const r=a[t.id];if(!r){a[t.id]=t.vanity_url_code;return}r===t.vanity_url_code||(a[t.id]=t.vanity_url_code,!(s.persist.ghost.settings.notifyUrls?.split(",").map(i=>i.trim())||[]).includes(r))||(u.notifications.show(s.i18n.format("NOTIFICATION",t.name,r,t.vanity_url_code)),_(r,t.vanity_url_code,t.name))}function _(t,r,n){const i=JSON.parse(s.persist.ghost.logs??"[]");i.length>=10&&i.shift(),i.push({o:t,n:r,t:Date.now(),g:n}),s.persist.store.logs=JSON.stringify(i),c(i)}function c(t){t||(t=JSON.parse(s.persist.ghost.logs??"[]"));const r=t.map(({o:n,n:i,t:d,g:y})=>s.i18n.format("LOG",new Date(d).toLocaleString(),y,n,i)).reverse().join(`
`)||"No logs yet.";s.persist.store.settings.logs=r}var h={load(){e.FluxDispatcher.subscribe("GUILD_UPDATE",o),e.FluxDispatcher.subscribe("GUILD_CREATE",o),setTimeout(()=>Object.values(e.GuildStore.getGuilds()).forEach(t=>a[t.id]=t.vanityURLCode),1e3),s.subscriptions.push(p.default.on("LocaleChange",()=>c())),s.subscriptions.push(()=>e.FluxDispatcher.unsubscribe("GUILD_UPDATE",o)),s.subscriptions.push(()=>e.FluxDispatcher.unsubscribe("GUILD_CREATE",o)),s.subscriptions.push(()=>a={}),c()},unload(){}};return h})($acord.modules.common,$acord.ui,$acord.extension,$acord.events);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic291cmNlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3VpbGRTdG9yZSwgRmx1eERpc3BhdGNoZXIgfSBmcm9tIFwiQGFjb3JkL21vZHVsZXMvY29tbW9uXCI7XHJcbmltcG9ydCB7IG5vdGlmaWNhdGlvbnMgfSBmcm9tIFwiQGFjb3JkL3VpXCJcclxuaW1wb3J0IHsgc3Vic2NyaXB0aW9ucywgcGVyc2lzdCwgaTE4biwgbWFuaWZlc3QgfSBmcm9tIFwiQGFjb3JkL2V4dGVuc2lvblwiO1xyXG5pbXBvcnQgZXZlbnRzIGZyb20gXCJAYWNvcmQvZXZlbnRzXCI7XHJcblxyXG5sZXQgZ3VpbGRWYW5pdHlDYWNoZSA9IHt9O1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gbGlzdGVuZXIoeyBndWlsZCB9KSB7XHJcbiAgY29uc3Qgb2xkVmFuaXR5ID0gZ3VpbGRWYW5pdHlDYWNoZVtndWlsZC5pZF07XHJcbiAgaWYgKCFvbGRWYW5pdHkpIHtcclxuICAgIGd1aWxkVmFuaXR5Q2FjaGVbZ3VpbGQuaWRdID0gZ3VpbGQudmFuaXR5X3VybF9jb2RlO1xyXG4gICAgcmV0dXJuO1xyXG4gIH07XHJcbiAgaWYgKG9sZFZhbml0eSA9PT0gZ3VpbGQudmFuaXR5X3VybF9jb2RlKSByZXR1cm47XHJcbiAgZ3VpbGRWYW5pdHlDYWNoZVtndWlsZC5pZF0gPSBndWlsZC52YW5pdHlfdXJsX2NvZGU7XHJcbiAgY29uc3Qgbm90aWZ5VXJscyA9IHBlcnNpc3QuZ2hvc3Quc2V0dGluZ3Mubm90aWZ5VXJscz8uc3BsaXQoXCIsXCIpLm1hcCh1cmwgPT4gdXJsLnRyaW0oKSkgfHwgW107XHJcbiAgaWYgKCFub3RpZnlVcmxzLmluY2x1ZGVzKG9sZFZhbml0eSkpIHJldHVybjtcclxuICBub3RpZmljYXRpb25zLnNob3coXHJcbiAgICBpMThuLmZvcm1hdChcIk5PVElGSUNBVElPTlwiLCBndWlsZC5uYW1lLCBvbGRWYW5pdHksIGd1aWxkLnZhbml0eV91cmxfY29kZSlcclxuICApO1xyXG4gIGxvZyhvbGRWYW5pdHksIGd1aWxkLnZhbml0eV91cmxfY29kZSwgZ3VpbGQubmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvZyhvbGRWYW5pdHksIG5ld1Zhbml0eSwgZ3VpbGROYW1lKSB7XHJcbiAgY29uc3QgbG9nVXJscyA9IEpTT04ucGFyc2UocGVyc2lzdC5naG9zdC5sb2dzID8/IFwiW11cIik7XHJcbiAgaWYgKGxvZ1VybHMubGVuZ3RoID49IDEwKSBsb2dVcmxzLnNoaWZ0KCk7XHJcbiAgbG9nVXJscy5wdXNoKHsgbzogb2xkVmFuaXR5LCBuOiBuZXdWYW5pdHksIHQ6IERhdGUubm93KCksIGc6IGd1aWxkTmFtZSB9KTtcclxuICBwZXJzaXN0LnN0b3JlLmxvZ3MgPSBKU09OLnN0cmluZ2lmeShsb2dVcmxzKTtcclxuICBmb3JtYXRMb2cobG9nVXJscyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdExvZyhsb2dVcmxzKSB7XHJcbiAgaWYgKCFsb2dVcmxzKSBsb2dVcmxzID0gSlNPTi5wYXJzZShwZXJzaXN0Lmdob3N0LmxvZ3MgPz8gXCJbXVwiKTtcclxuICBjb25zdCB0ZXh0ID0gbG9nVXJscy5tYXAoKHsgbywgbiwgdCwgZyB9KSA9PiBpMThuLmZvcm1hdChcIkxPR1wiLCBuZXcgRGF0ZSh0KS50b0xvY2FsZVN0cmluZygpLCBnLCBvLCBuKSkucmV2ZXJzZSgpLmpvaW4oXCJcXG5cIikgfHwgXCJObyBsb2dzIHlldC5cIjtcclxuICBwZXJzaXN0LnN0b3JlLnNldHRpbmdzLmxvZ3MgPSB0ZXh0O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbG9hZCgpIHtcclxuICAgIEZsdXhEaXNwYXRjaGVyLnN1YnNjcmliZShcIkdVSUxEX1VQREFURVwiLCBsaXN0ZW5lcik7XHJcbiAgICBGbHV4RGlzcGF0Y2hlci5zdWJzY3JpYmUoXCJHVUlMRF9DUkVBVEVcIiwgbGlzdGVuZXIpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiBPYmplY3QudmFsdWVzKEd1aWxkU3RvcmUuX19nZXRMb2NhbFZhcnMoKS5ndWlsZHMpLmZvckVhY2goZ3VpbGQgPT4gZ3VpbGRWYW5pdHlDYWNoZVtndWlsZC5pZF0gPSBndWlsZC52YW5pdHlVUkxDb2RlKSwgMTAwMCk7XHJcbiAgICBzdWJzY3JpcHRpb25zLnB1c2goZXZlbnRzLm9uKFwiTG9jYWxlQ2hhbmdlXCIsICgpID0+IGZvcm1hdExvZygpKSk7XHJcbiAgICBzdWJzY3JpcHRpb25zLnB1c2goKCkgPT4gRmx1eERpc3BhdGNoZXIudW5zdWJzY3JpYmUoXCJHVUlMRF9VUERBVEVcIiwgbGlzdGVuZXIpKTtcclxuICAgIHN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiBGbHV4RGlzcGF0Y2hlci51bnN1YnNjcmliZShcIkdVSUxEX0NSRUFURVwiLCBsaXN0ZW5lcikpO1xyXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IGd1aWxkVmFuaXR5Q2FjaGUgPSB7fSk7XHJcbiAgICBmb3JtYXRMb2coKTtcclxuICB9LFxyXG4gIHVubG9hZCgpIHt9XHJcbn0iXSwibmFtZXMiOlsicGVyc2lzdCIsIm5vdGlmaWNhdGlvbnMiLCJpMThuIiwiRmx1eERpc3BhdGNoZXIiLCJHdWlsZFN0b3JlIiwic3Vic2NyaXB0aW9ucyIsImV2ZW50cyJdLCJtYXBwaW5ncyI6ImlOQUlBLElBQUksZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO0FBQzFCLGVBQWUsUUFBUSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUU7QUFDbkMsRUFBRSxNQUFNLFNBQVMsR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDL0MsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFO0FBQ2xCLElBQUksZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxlQUFlLENBQUM7QUFDdkQsSUFBSSxPQUFPO0FBQ1gsR0FBRztBQUVILEVBQUUsSUFBSSxTQUFTLEtBQUssS0FB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
