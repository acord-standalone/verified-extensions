(function(p,o,l,n,s,u){"use strict";function f(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var a=f(p),_=()=>l.injectCSS(".acord--fu--button{padding:4px 16px;background-color:#5865f2;height:32px;color:#fff;border-radius:3px;transition:background-color .2s ease-in-out}.acord--fu--button:hover{background-color:#4752c4}.acord--fu--packer{display:flex;flex-direction:row;gap:8px}.acord--fu--spacing{width:12px}"),h={load(){async function d(){const t=await b();if(!t)return s.notifications.show(o.i18n.format("ERROR_COPY"));u.copyText(`https://discord.gg/${t}`),s.notifications.show(o.i18n.format("SUCCESS_COPY"))}async function b(){const t=n.UserStore.getCurrentUser()?.id;if(!t)return null;const e=o.persist.ghost.oldCode?.[t];if(e&&e.expires_at>Date.now())return e.code;const r=await n.InviteActions.createFriendInvite().catch(()=>null);return r?(r.inviter?.id&&(o.persist.store.oldCode[r.inviter?.id]={code:r.code,expires_at:new Date(r.expires_at).getTime()}),r.code):null}o.subscriptions.push(a.default.patch(".userInfo__8f826",t=>{const e=a.default.parse('<div class="acord--fu--packer"></div>'),r=a.default.parse(`<button class="acord--fu--button">${o.i18n.format("FRIEND_CODE_URL")}</button>`);r.addEventListener("click",d);const c=[...t.children],i=c.pop();e.appendChild(i),e.appendChild(r),t.replaceChildren(...c,e)})),o.subscriptions.push(a.default.patch(".relationshipButtons__5efdd",t=>{const e=u.react.getProps(t,i=>i?.user)?.user?.id,r=n.UserStore.getCurrentUser()?.id;if(e!==r)return;const c=a.default.parse(`<button type="button" class="actionButton_dac582 button_afdfd9 lookFilled__19298 colorGreen__5f181 sizeSmall__71a98 grow__4c8a4"><div class="contents_fb6220">${o.i18n.format("COPY_FRIEND_CODE_URL")}</div></button>`);c.addEventListener("click",d),t.appendChild(c),t.appendChild(a.default.parse('<div class="acord--fu--spacing"></div>'))})),o.subscriptions.push(_())},unload(){}};return h})($acord.dom,$acord.extension,$acord.patcher,$acord.modules.common,$acord.ui,$acord.utils);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic291cmNlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvbSBmcm9tIFwiQGFjb3JkL2RvbVwiO1xyXG5pbXBvcnQgeyBzdWJzY3JpcHRpb25zLCBwZXJzaXN0LCBpMThuIH0gZnJvbSBcIkBhY29yZC9leHRlbnNpb25cIjtcclxuaW1wb3J0IGluamVjdFNDU1MgZnJvbSBcIi4vaW5kZXguc2Nzc1wiO1xyXG5pbXBvcnQgeyBJbnZpdGVBY3Rpb25zLCBVc2VyU3RvcmUgfSBmcm9tIFwiQGFjb3JkL21vZHVsZXMvY29tbW9uXCI7XHJcbmltcG9ydCB7IG5vdGlmaWNhdGlvbnMgfSBmcm9tIFwiQGFjb3JkL3VpXCI7XHJcbmltcG9ydCB7IGNvcHlUZXh0LCByZWFjdCB9IGZyb20gXCJAYWNvcmQvdXRpbHNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGxvYWQoKSB7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBjbGlja1RyaWdnZXIoKSB7XHJcbiAgICAgIGNvbnN0IGNvZGUgPSBhd2FpdCBnZXRGcmllbmRDb2RlKCk7XHJcbiAgICAgIGlmICghY29kZSkgcmV0dXJuIG5vdGlmaWNhdGlvbnMuc2hvdyhpMThuLmZvcm1hdChcIkVSUk9SX0NPUFlcIikpO1xyXG4gICAgICBjb3B5VGV4dChgaHR0cHM6Ly9kaXNjb3JkLmdnLyR7Y29kZX1gKTtcclxuICAgICAgbm90aWZpY2F0aW9ucy5zaG93KGkxOG4uZm9ybWF0KFwiU1VDQ0VTU19DT1BZXCIpKTtcclxuICAgIH1cclxuICAgIGFzeW5jIGZ1bmN0aW9uIGdldEZyaWVuZENvZGUoKSB7XHJcbiAgICAgIGNvbnN0IHVzZXJJZCA9IFVzZXJTdG9yZS5nZXRDdXJyZW50VXNlcigpPy5pZDtcclxuICAgICAgaWYgKCF1c2VySWQpIHJldHVybiBudWxsO1xyXG4gICAgICBjb25zdCBvbGRDb2RlID0gcGVyc2lzdC5naG9zdC5vbGRDb2RlPy5bdXNlcklkXTtcclxuICAgICAgaWYgKG9sZENvZGUgJiYgb2xkQ29kZS5leHBpcmVzX2F0ID4gRGF0ZS5ub3coKSkge1xyXG4gICAgICAgIHJldHVybiBvbGRDb2RlLmNvZGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNvZGUgPSBhd2FpdCBJbnZpdGVBY3Rpb25zLmNyZWF0ZUZyaWVuZEludml0ZSgpLmNhdGNoKCgpID0+IG51bGwpO1xyXG4gICAgICBpZiAoIWNvZGUpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgaWYgKGNvZGUuaW52aXRlcj8uaWQpIHBlcnNpc3Quc3RvcmUub2xkQ29kZVtjb2RlLmludml0ZXI/LmlkXSA9IHtcclxuICAgICAgICBjb2RlOiBjb2RlLmNvZGUsXHJcbiAgICAgICAgZXhwaXJlc19hdDogbmV3IERhdGUoY29kZS5leHBpcmVzX2F0KS5nZXRUaW1lKClcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gY29kZS5jb2RlO1xyXG4gICAgfVxyXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKGRvbS5wYXRjaChgLnVzZXJJbmZvX184ZjgyNmAsIC8qKkBwYXJhbSB7RWxlbWVudH0gZWxtICovKGVsbSkgPT4ge1xyXG4gICAgICBjb25zdCBwYWNrZXIgPSBkb20ucGFyc2UoYDxkaXYgY2xhc3M9XCJhY29yZC0tZnUtLXBhY2tlclwiPjwvZGl2PmApO1xyXG4gICAgICAvKiogQHR5cGUge0VsZW1lbnR9ICovXHJcbiAgICAgIGNvbnN0IGJ0biA9IGRvbS5wYXJzZShgPGJ1dHRvbiBjbGFzcz1cImFjb3JkLS1mdS0tYnV0dG9uXCI+JHtpMThuLmZvcm1hdChcIkZSSUVORF9DT0RFX1VSTFwiKX08L2J1dHRvbj5gKTtcclxuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja1RyaWdnZXIpO1xyXG5cclxuICAgICAgY29uc3QgY2hpbGRyZW4gPSBbLi4uZWxtLmNoaWxkcmVuXTtcclxuICAgICAgY29uc3QgZWRpdEJ0biA9IGNoaWxkcmVuLnBvcCgpO1xyXG5cclxuICAgICAgcGFja2VyLmFwcGVuZENoaWxkKGVkaXRCdG4pO1xyXG4gICAgICBwYWNrZXIuYXBwZW5kQ2hpbGQoYnRuKTtcclxuXHJcbiAgICAgIGVsbS5yZXBsYWNlQ2hpbGRyZW4oLi4uY2hpbGRyZW4sIHBhY2tlcik7XHJcbiAgICB9KSk7XHJcbiAgICBzdWJzY3JpcHRpb25zLnB1c2goZG9tLnBhdGNoKGAucmVsYXRpb25zaGlwQnV0dG9uc19fNWVmZGRgLCAvKipAcGFyYW0ge0VsZW1lbnR9IGVsbSAqLyhlbG0pID0+IHtcclxuICAgICAgY29uc3QgY1VzZXJJZCA9IChyZWFjdC5nZXRQcm9wcyhlbG0sIChlKSA9PiBlPy51c2VyKSk/LnVzZXI/LmlkO1xyXG4gICAgICBjb25zdCB1c2VySWQgPSBVc2VyU3RvcmUuZ2V0Q3VycmVudFVzZXIoKT8uaWQ7XHJcbiAgICAgIGlmIChjVXNlcklkICE9PSB1c2VySWQpIHJldHVybjtcclxuICAgICAgY29uc3QgYnV0dG9uID0gZG9tLnBhcnNlKGA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImFjdGlvbkJ1dHRvbl9kYWM1ODIgYnV0dG9uX2FmZGZkOSBsb29rRmlsbGVkX18xOTI5OCBjb2xvckdyZWVuX181ZjE4MSBzaXplU21hbGxfXzcxYTk4IGdyb3dfXzRjOGE0XCI+PGRpdiBjbGFzcz1cImNvbnRlbnRzX2ZiNjIyMFwiPiR7aTE4bi5mb3JtYXQoXCJDT1BZX0ZSSUVORF9DT0RFX1VSTFwiKX08L2Rpdj48L2J1dHRvbj5gKTtcclxuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja1RyaWdnZXIpO1xyXG4gICAgICBlbG0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgZWxtLmFwcGVuZENoaWxkKGRvbS5wYXJzZShgPGRpdiBjbGFzcz1cImFjb3JkLS1mdS0tc3BhY2luZ1wiPjwvZGl2PmApKTtcclxuICAgIH0pKTtcclxuICAgIHN1YnNjcmlwdGlvbnMucHVzaChpbmplY3RTQ1NTKCkpO1xyXG4gIH0sXHJcbiAgdW5sb2FkKCkgeyB9XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJub3RpZmljYXRpb25zIiwiaTE4biIsImNvcHlUZXh0IiwiVXNlclN0b3JlIiwicGVyc2lzdCIsIkludml0ZUFjdGlvbnMiLCJzdWJzY3JpcHRpb25zIiwiZG9tIiwicmVhY3QiXSwibWFwcGluZ3MiOiJpaUJBTUEsWUFBZTtBQUNmLEVBQUUsSUFBSSxHQUFHO0FBQ1QsSUFBSSxlQUFlLFlBQVksR0FBRztBQUNsQyxNQUFNLE1BQU0sSUFBSSxHQUFHLE1BQU0sYUFBYSxFQUFFLENBQUM7QUFDekMsTUFBTSxJQUFJLENBQUMsSUFBSTtBQUNmLFFBQVEsT0FBT0EsZ0JBQWEsQ0FBQyxJQUFJLENBQUNDLGNBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztBQUM3RCxNQUFNQyxjQUFRLENBQUMsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDN0MsTUFBTUYsZ0JBQWEsQ0FBQyxJQUFJLENBQUNDLGNBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztBQUN0RCxLQUFLO0FBQ0wsSUFBSSxlQUFlLGFBQWEsR0FBRztBQUNuQyxNQUFNLE1BQU0sTUFBTSxHQUFHRSxnQkFBUyxDQUFDLGNBQWMsRUFBRSxFQUFFLEVBQUUsQ0FBQztBQUNwRCxNQUFNLElBQUksQ0FBQyxNQUFNO0FBQ2pCLFFBQVEsT0FBTyxJQUFJLENBQUM7QUFDcEIsTUFBTSxNQUFNLE9BQU8sR0FBR0MsaUJBQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDO0FBQ3RELE1BQU0sSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUU7QUFDdEQsUUFBUSxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDNUIsT0FBTztBQUNQLE1BQU0sTUFBTSxJQUFJLEdBQUcsTUFBTUMsb0JB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
