(function(n,c,m){"use strict";function p(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var r=p(m);let a=0,i=null,o=[];async function s(){let t=i,e=o[a];if(!e){if(await r.default.sleep(1e3),i!==t)return;s();return}n.FluxDispatcher.dispatch({type:"LOCAL_ACTIVITY_UPDATE",activity:{application_id:"1083403277980409937",type:4,flags:1,state:e.state,emoji:e.emoji?{name:e.emoji}:void 0},socketId:"rest.armagan.acord.AnimatedCustomState"}),a=(a+1)%o.length,await r.default.sleep(e.timeout*1e3),i===t&&s()}function u(){i=Math.random().toString(36).slice(2),a=0,s()}function l(){let t=(c.persist.ghost?.settings?.statuses||"").trim();if(!t){o=[];return}o=t.split(`
`).map(e=>{let[h,d,y]=e.split("|");return{state:h.trim(),timeout:Math.max(isNaN(d.trim())?1:parseFloat(d.trim()),1),emoji:y?.trim()}})}const f=_.debounce(()=>{l(),u()},2500);var g={load(){l(),u()},unload(){o=[],i=null,a=0,n.FluxDispatcher.dispatch({type:"LOCAL_ACTIVITY_UPDATE",activity:{},socketId:"rest.armagan.acord.AnimatedCustomState"})},config(){f()}};return g})($acord.modules.common,$acord.extension,$acord.utils);
