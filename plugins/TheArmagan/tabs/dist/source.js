(function(m,n,i,f,k,g){"use strict";function c(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var l=c(m),x=c(f),p=c(k),v=()=>g.injectCSS(".tabs--container{box-sizing:border-box;display:flex;flex-direction:column;width:100vw;-webkit-app-region:drag}.tabs--container ::-webkit-scrollbar{width:0px;height:0px}.tabs--container.hidden{display:none}.tabs--container>.tab-items,.tabs--container>.bookmarks{box-sizing:border-box;display:flex;align-items:center;width:100vw;max-width:100vw;--item-h: 30px;height:var(--item-h);min-height:var(--item-h);gap:4px;padding:8px 4px 0;transition:.1s ease-in-out opacity;-webkit-app-region:drag;overflow-x:auto;overflow-y:hidden}.tabs--container>.bookmarks{height:var(--item-h);min-height:var(--item-h);background-color:#0000001a;-webkit-app-region:no-drag;padding-top:4px;padding-bottom:4px}.tabs--container>.bookmarks.hidden{display:none}.tabs--container .new-tab{color:#fff;width:12px;height:12px;min-width:12px;min-height:12px;transform:rotate(45deg);cursor:pointer;margin:0 4px;-webkit-app-region:no-drag}.tabs--container .bookmark-item{box-sizing:border-box;-webkit-app-region:no-drag;background-color:#00000040;border-radius:4px;display:flex;align-items:center;justify-content:center;padding:6px;cursor:pointer;opacity:.5;transition:.1s ease-in-out opacity;position:relative}.tabs--container .bookmark-item:hover,.tabs--container .bookmark-item.selected,.tabs--container .bookmark-item:focus-within{opacity:1}.tabs--container .bookmark-item .rename-input{border:none;background-color:transparent;color:#f5f5f5;border-bottom:1px solid whitesmoke;font-size:12px}.tabs--container .bookmark-item .unread{position:absolute;right:-3px;top:-3px;border-radius:50%;background-color:#ed4245;width:12px;height:12px;font-size:10px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:400}.tabs--container .bookmark-item .unread.plus{font-size:8px}.tabs--container .bookmark-item .unread.hidden{display:none}.tabs--container .bookmark-item .info{display:flex;align-items:center;justify-content:flex-start;gap:4px}.tabs--container .bookmark-item .icon{border-radius:2px;width:8px;height:8px;background-size:cover;background-position:center;background-repeat:no-repeat}.tabs--container .bookmark-item .title{font-size:12px;color:#fff;text-overflow:ellipsis;word-break:keep-all;overflow:hidden;white-space:nowrap;max-width:150px}.tabs--container .tab-item{-webkit-app-region:no-drag;color:#fff;background-color:#00000040;box-sizing:border-box;width:fit-content;height:var(--item-h);display:flex;align-items:center;justify-content:space-between;padding:0 8px;gap:8px;border-top-left-radius:8px;border-top-right-radius:8px;cursor:pointer;opacity:.5;position:relative}.tabs--container .tab-item .unread{position:absolute;right:-4px;top:-4px;border-radius:50%;background-color:#ed4245;width:14px;height:14px;font-size:10px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:400}.tabs--container .tab-item .unread.plus{font-size:8px}.tabs--container .tab-item .unread.hidden{display:none}.tabs--container .tab-item .info{display:flex;align-items:center;justify-content:flex-start;flex:2;gap:8px}.tabs--container .tab-item .icon{border-radius:4px;width:14px;height:14px;background-size:cover;background-position:center;background-repeat:no-repeat}.tabs--container .tab-item .title{font-size:14px;text-overflow:ellipsis;word-break:keep-all;overflow:hidden;white-space:nowrap;min-width:150px;max-width:250px;flex:1}.tabs--container .tab-item .close{color:#ffffff80;width:12px;height:12px;cursor:pointer;transition:.1s ease-in-out opacity;border-radius:50%;padding:4px;display:flex;align-items:center;justify-content:center}.tabs--container .tab-item .close:hover{background-color:#ffffff1a}.tabs--container .tab-item .close.hidden{opacity:0;pointer-events:none}.tabs--container .tab-item.disabled{opacity:.5;pointer-events:none}.tabs--container .tab-item:hover,.tabs--container .tab-item.selected{opacity:1}[class*=bg-]{top:0!important}");let u=!1;const y=/translateY\(([^)]+)\)/;var w={async load(){if(await l.default.vue.ready.when(),u)return;n.subscriptions.push(v());const s=x.default.parse(`
      <div class="tabs--container">
          <div class="tab-items" @wheel="onVerticalScrollWheel">
            <div v-for="tab in tabs" class="tab-item" :class="{'selected': selectedTabId === tab.id}" :key="tab.id" @click="onTabClick(tab, $event)" @contextmenu="onTabContextMenu(tab, $event)">
              <span class="info">
                  <span class="icon" :style="tab.icon ? \`background-image: url('\${tab.icon}');\` : \`background-color: #5865f2;\`"></span>
                  <span class="title">{{tab.pathname === "/store" ? "Acord" : tab.title}}</span>
              </span>
              <span class="close" :class="{'hidden': tabs.length <= 1}" @click="onTabCloseClick(tab)">
                <svg class="close-icon" viewBox="0 0 12 12">
                  <polygon fill="currentColor" fill-rule="evenodd" points="11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1"></polygon>
                </svg>
              </span>
              <span class="unread" :class="{'hidden': !tab.unread}">{{tab.unread}}</span>
            </div>
            <div class="new-tab" @click="onNewTabClick">
              <svg viewBox="0 0 12 12">
                <polygon fill="currentColor" fill-rule="evenodd" points="11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1"></polygon>
              </svg>
            </div>
          </div>
          <div v-if="bookmarks.length"  class="bookmarks" @wheel="onVerticalScrollWheel">
            <div v-for="bookmark in bookmarks" :key="bookmark.id" class="bookmark-item" :class="{'selected': selectedTab?.pathname === bookmark.pathname}" @click="onBookmarkClick(bookmark, $event)" @contextmenu="onBookmarkContextMenu(bookmark, $event)">
              <span class="info">
                  <span class="icon" :style="bookmark.icon ? \`background-image: url('\${bookmark.icon}');\` : \`background-color: #5865f2;\`"></span>
                  <span v-if="!bookmark.inRenameMode" class="title">{{bookmark.pathname === "/store" ? "Acord" : bookmark.title}}</span>
                  <input v-else v-focus type="text" class="rename-input" :value="bookmark.title" @blur="onBookmarkRenameBlur(bookmark, $event)" @keyup="onBookmarkRenameKeyUp(bookmark, $event)">
              </span>
              <span class="unread" :class="{'hidden': !bookmark.unread}">{{bookmark.unread}}</span>
            </div>
          </div>
      </div>
    `),b=Vue.createApp({data(){return{tabs:[],bookmarks:[],selectedTabId:null,ignoreSelectOnce:!1}},mounted(){this.tabs=n.persist.ghost?.[i.UserStore.getCurrentUser().id]?.tabs||[],this.bookmarks=n.persist.ghost?.[i.UserStore.getCurrentUser().id]?.bookmarks||[],this.tabs.length||this.addTab(),this.selectedTabId=this.tabs[0].id,i.FluxDispatcher.subscribe("CHANNEL_SELECT",this.onChannelSelect),i.ReadStateStore.addChangeListener(this.onUnreadChange)},unmounted(){i.FluxDispatcher.unsubscribe("CHANNEL_SELECT",this.onChannelSelect),i.ReadStateStore.removeChangeListener(this.onUnreadChange)},computed:{selectedTab(){return this.tabs.find(e=>e.id===this.selectedTabId)}},methods:{i18nFormat:n.i18n.format,save(){n.persist.store[i.UserStore.getCurrentUser().id]={tabs:this.tabs,bookmarks:this.bookmarks}},onTabContextMenu(e,a){const t=this;let o=t.tabs.indexOf(e),d=t.tabs.filter((r,h)=>h>o);l.default.contextMenus.open(a,l.default.contextMenus.build.menu([{type:"text",label:n.i18n.format("CLOSE"),disabled:this.tabs.length<=1,action(){t.onTabCloseClick(e)}},{type:"text",label:n.i18n.format("CLOSE_TABS_TO_RIGHT"),disabled:!d.length,action(){t.tabs.filter((r,h)=>h!=o).forEach(r=>onTabCloseClick(r))}},{type:"separator"},{type:"text",label:n.i18n.format("MOVE_TAB_TO_LEFT"),disabled:!o,action(){let[r]=t.tabs.splice(o,1);t.tabs.splice(o-1,0,r),t.save()}},{type:"text",label:n.i18n.format("MOVE_TAB_TO_RIGHT"),disabled:o===t.tabs.length-1,action(){let[r]=t.tabs.splice(o,1);t.tabs.splice(o+1,0,r),t.save()}},{type:"separator"},{type:"text",label:n.i18n.format("ADD_TO_BOOKMARKS"),disabled:!!t.bookmarks.find(r=>r.pathname===e.pathname),action(){t.addBookmark(e)}}]))},async onChannelSelect(){if(this.ignoreSelectOnce){this.ignoreSelectOnce=!1;return}let e=this.tabs.find(t=>t.id===this.selectedTabId),a=e?.title;if(e){for(e.pathname=window.location.pathname,e.icon=this.getIcon(e.pathname);document.title===a;)await p.default.sleep(10);e.title=document.title}},onUnreadChange(){this.tabs.forEach(e=>{let a=e.pathname.split("/");a[1]==="channels"&&a[3]&&(e.unread=i.ReadStateStore.getUnreadCount(a[3])??0)})},onVerticalScrollWheel(e){e.target.scrollBy({left:e.deltaY,behavior:"smooth"})},onNewTabClick(){this.addTab()},onTabClick(e,a){a.target.classList.contains("close")||a.target.classList.contains("close-icon")||(this.selectedTabId=e.id,this.ignoreSelectOnce=!0,i.Router.transitionTo(e.pathname))},onTabCloseClick(e){let a=this.tabs.indexOf(e);if(a!==-1){if(this.selectedTabId===e.id){let t=this.tabs[a+1]||this.tabs[a-1];t&&(this.selectedTabId=t.id,this.ignoreSelectOnce=!0,i.Router.transitionTo(t.pathname))}this.tabs.splice(a,1),this.save()}},addTab(e={}){e.id??=Math.random().toString(36).slice(2),e.title??=document.title,e.pathname??=window.location.pathname,e.icon??=this.getIcon(e.pathname),this.tabs.push(e),this.selectedTabId=e.id,this.save()},addBookmark(e){this.bookmarks.push({...e}),this.save()},onBookmarkRenameBlur(e,a){e.inRenameMode=!1,e.title=a.target.value,this.save()},onBookmarkRenameKeyUp(e,a){a.key==="Enter"&&(e.inRenameMode=!1,e.title=a.target.value,this.save())},onBookmarkClick(e){let a=this.tabs.find(t=>t.pathname===e.pathname);a?this.selectedTabId=a.id:this.addTab({pathname:e.pathname}),this.ignoreSelectOnce=!0,i.Router.transitionTo(e.pathname)},onBookmarkContextMenu(e,a){const t=this;l.default.contextMenus.open(a,l.default.contextMenus.build.menu([{type:"text",label:n.i18n.format("DELETE"),action(){t.onBookmarkDelete(e)}},{type:"text",label:n.i18n.format("RENAME"),action(){e.inRenameMode=!0}}]))},onBookmarkDelete(e){let a=this.bookmarks.indexOf(e);a!==-1&&(this.bookmarks.splice(a,1),this.save())},getIcon(e){let a=e.split("/");if(a[1]==="channels")if(a[2]==="@me"){let t=i.ChannelStore.getChannel(a[3]);if(t){if(t.isGroupDM()&&t.icon)return`https://cdn.discordapp.com/channel-icons/${t.id}/${t.icon}.webp?size=32`;if(t.isDM()){let o=t.getRecipientId(),d=i.UserStore.getUser(o);return d?.avatar?`https://cdn.discordapp.com/avatars/${o}/${d.avatar}.webp?size=32`:`https://cdn.discordapp.com/embed/avatars/${d.discriminator%5}.png`}}}else{let t=i.GuildStore.getGuild(a[2]);if(t?.icon)return`https://cdn.discordapp.com/icons/${t.id}/${t.icon}.webp?size=32`}return null}}});b.directive("focus",{mounted(e){setTimeout(()=>e.focus(),1)}}),b.mount(s),n.subscriptions.push(()=>{b.unmount(),s.remove()}),document.querySelector('[class*="titleBar-"]').insertAdjacentElement("afterend",s),n.subscriptions.push(p.default.interval(()=>{const e=document.querySelector('[class*="pictureInPictureWindow-"]');if(e&&e?.children?.[0]?.getAttribute?.("style")&&!i.WindowStore.isElementFullScreen()){let a=p.default.react.getProps(e,t=>t?.style)?.style;if(a){let t=a.transform.find(o=>o.translateY).translateY;typeof t=="object"&&(t=t._parent._value),e.setAttribute("style",e.getAttribute("style").replace(y,`translateY(${t-s.getBoundingClientRect().height}px)`))}}},1e3))},unload(){u=!0}};return w})($acord.ui,$acord.extension,$acord.modules.common,$acord.dom,$acord.utils,$acord.patcher);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic291cmNlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHVpIGZyb20gXCJAYWNvcmQvdWlcIjtcclxuaW1wb3J0IHsgc3Vic2NyaXB0aW9ucywgcGVyc2lzdCwgaTE4biB9IGZyb20gXCJAYWNvcmQvZXh0ZW5zaW9uXCI7XHJcbmltcG9ydCB7IEZsdXhEaXNwYXRjaGVyLCBXaW5kb3dTdG9yZSwgQ2hhbm5lbFN0b3JlLCBVc2VyU3RvcmUsIEd1aWxkU3RvcmUsIFJvdXRlciwgUmVhZFN0YXRlU3RvcmUgfSBmcm9tIFwiQGFjb3JkL21vZHVsZXMvY29tbW9uXCI7XHJcbmltcG9ydCBkb20gZnJvbSBcIkBhY29yZC9kb21cIjtcclxuaW1wb3J0IHV0aWxzIGZyb20gXCJAYWNvcmQvdXRpbHNcIjtcclxuXHJcbmltcG9ydCBpbmplY3RTQ1NTIGZyb20gXCIuL3N0eWxlcy5zY3NzXCI7XHJcblxyXG5sZXQgdW5sb2FkZWQgPSBmYWxzZTtcclxuXHJcbmNvbnN0IHRyYW5zbGF0ZVlSZWdleCA9IC90cmFuc2xhdGVZXFwoKFteKV0rKVxcKS87XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBhc3luYyBsb2FkKCkge1xyXG4gICAgYXdhaXQgdWkudnVlLnJlYWR5LndoZW4oKTtcclxuICAgIGlmICh1bmxvYWRlZCkgcmV0dXJuO1xyXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKGluamVjdFNDU1MoKSk7XHJcbiAgICAvKiogQHR5cGUge0VsZW1lbnR9ICovXHJcbiAgICBjb25zdCB0YWJzQ29udGFpbmVyID0gZG9tLnBhcnNlKGBcclxuICAgICAgPGRpdiBjbGFzcz1cInRhYnMtLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1pdGVtc1wiIEB3aGVlbD1cIm9uVmVydGljYWxTY3JvbGxXaGVlbFwiPlxyXG4gICAgICAgICAgICA8ZGl2IHYtZm9yPVwidGFiIGluIHRhYnNcIiBjbGFzcz1cInRhYi1pdGVtXCIgOmNsYXNzPVwieydzZWxlY3RlZCc6IHNlbGVjdGVkVGFiSWQgPT09IHRhYi5pZH1cIiA6a2V5PVwidGFiLmlkXCIgQGNsaWNrPVwib25UYWJDbGljayh0YWIsICRldmVudClcIiBAY29udGV4dG1lbnU9XCJvblRhYkNvbnRleHRNZW51KHRhYiwgJGV2ZW50KVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb25cIiA6c3R5bGU9XCJ0YWIuaWNvbiA/IFxcYGJhY2tncm91bmQtaW1hZ2U6IHVybCgnXFwke3RhYi5pY29ufScpO1xcYCA6IFxcYGJhY2tncm91bmQtY29sb3I6ICM1ODY1ZjI7XFxgXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRpdGxlXCI+e3t0YWIucGF0aG5hbWUgPT09IFwiL3N0b3JlXCIgPyBcIkFjb3JkXCIgOiB0YWIudGl0bGV9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjbG9zZVwiIDpjbGFzcz1cInsnaGlkZGVuJzogdGFicy5sZW5ndGggPD0gMX1cIiBAY2xpY2s9XCJvblRhYkNsb3NlQ2xpY2sodGFiKVwiPlxyXG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImNsb3NlLWljb25cIiB2aWV3Qm94PVwiMCAwIDEyIDEyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgcG9pbnRzPVwiMTEgMS41NzYgNi41ODMgNiAxMSAxMC40MjQgMTAuNDI0IDExIDYgNi41ODMgMS41NzYgMTEgMSAxMC40MjQgNS40MTcgNiAxIDEuNTc2IDEuNTc2IDEgNiA1LjQxNyAxMC40MjQgMVwiPjwvcG9seWdvbj5cclxuICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInVucmVhZFwiIDpjbGFzcz1cInsnaGlkZGVuJzogIXRhYi51bnJlYWR9XCI+e3t0YWIudW5yZWFkfX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibmV3LXRhYlwiIEBjbGljaz1cIm9uTmV3VGFiQ2xpY2tcIj5cclxuICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgMTIgMTJcIj5cclxuICAgICAgICAgICAgICAgIDxwb2x5Z29uIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgcG9pbnRzPVwiMTEgMS41NzYgNi41ODMgNiAxMSAxMC40MjQgMTAuNDI0IDExIDYgNi41ODMgMS41NzYgMTEgMSAxMC40MjQgNS40MTcgNiAxIDEuNTc2IDEuNTc2IDEgNiA1LjQxNyAxMC40MjQgMVwiPjwvcG9seWdvbj5cclxuICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgdi1pZj1cImJvb2ttYXJrcy5sZW5ndGhcIiAgY2xhc3M9XCJib29rbWFya3NcIiBAd2hlZWw9XCJvblZlcnRpY2FsU2Nyb2xsV2hlZWxcIj5cclxuICAgICAgICAgICAgPGRpdiB2LWZvcj1cImJvb2ttYXJrIGluIGJvb2ttYXJrc1wiIDprZXk9XCJib29rbWFyay5pZFwiIGNsYXNzPVwiYm9va21hcmstaXRlbVwiIDpjbGFzcz1cInsnc2VsZWN0ZWQnOiBzZWxlY3RlZFRhYj8ucGF0aG5hbWUgPT09IGJvb2ttYXJrLnBhdGhuYW1lfVwiIEBjbGljaz1cIm9uQm9va21hcmtDbGljayhib29rbWFyaywgJGV2ZW50KVwiIEBjb250ZXh0bWVudT1cIm9uQm9va21hcmtDb250ZXh0TWVudShib29rbWFyaywgJGV2ZW50KVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb25cIiA6c3R5bGU9XCJib29rbWFyay5pY29uID8gXFxgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdcXCR7Ym9va21hcmsuaWNvbn0nKTtcXGAgOiBcXGBiYWNrZ3JvdW5kLWNvbG9yOiAjNTg2NWYyO1xcYFwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gdi1pZj1cIiFib29rbWFyay5pblJlbmFtZU1vZGVcIiBjbGFzcz1cInRpdGxlXCI+e3tib29rbWFyay5wYXRobmFtZSA9PT0gXCIvc3RvcmVcIiA/IFwiQWNvcmRcIiA6IGJvb2ttYXJrLnRpdGxlfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB2LWVsc2Ugdi1mb2N1cyB0eXBlPVwidGV4dFwiIGNsYXNzPVwicmVuYW1lLWlucHV0XCIgOnZhbHVlPVwiYm9va21hcmsudGl0bGVcIiBAYmx1cj1cIm9uQm9va21hcmtSZW5hbWVCbHVyKGJvb2ttYXJrLCAkZXZlbnQpXCIgQGtleXVwPVwib25Cb29rbWFya1JlbmFtZUtleVVwKGJvb2ttYXJrLCAkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidW5yZWFkXCIgOmNsYXNzPVwieydoaWRkZW4nOiAhYm9va21hcmsudW5yZWFkfVwiPnt7Ym9va21hcmsudW5yZWFkfX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYCk7XHJcblxyXG4gICAgY29uc3QgYXBwID0gVnVlLmNyZWF0ZUFwcCh7XHJcbiAgICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHRhYnM6IFtdLFxyXG4gICAgICAgICAgYm9va21hcmtzOiBbXSxcclxuICAgICAgICAgIHNlbGVjdGVkVGFiSWQ6IG51bGwsXHJcbiAgICAgICAgICBpZ25vcmVTZWxlY3RPbmNlOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgbW91bnRlZCgpIHtcclxuICAgICAgICB0aGlzLnRhYnMgPSBwZXJzaXN0Lmdob3N0Py5bVXNlclN0b3JlLmdldEN1cnJlbnRVc2VyKCkuaWRdPy50YWJzIHx8IFtdO1xyXG4gICAgICAgIHRoaXMuYm9va21hcmtzID0gcGVyc2lzdC5naG9zdD8uW1VzZXJTdG9yZS5nZXRDdXJyZW50VXNlcigpLmlkXT8uYm9va21hcmtzIHx8IFtdO1xyXG4gICAgICAgIGlmICghdGhpcy50YWJzLmxlbmd0aCkgdGhpcy5hZGRUYWIoKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkVGFiSWQgPSB0aGlzLnRhYnNbMF0uaWQ7XHJcbiAgICAgICAgRmx1eERpc3BhdGNoZXIuc3Vic2NyaWJlKFwiQ0hBTk5FTF9TRUxFQ1RcIiwgdGhpcy5vbkNoYW5uZWxTZWxlY3QpO1xyXG4gICAgICAgIFJlYWRTdGF0ZVN0b3JlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMub25VbnJlYWRDaGFuZ2UpO1xyXG4gICAgICB9LFxyXG4gICAgICB1bm1vdW50ZWQoKSB7XHJcbiAgICAgICAgRmx1eERpc3BhdGNoZXIudW5zdWJzY3JpYmUoXCJDSEFOTkVMX1NFTEVDVFwiLCB0aGlzLm9uQ2hhbm5lbFNlbGVjdCk7XHJcbiAgICAgICAgUmVhZFN0YXRlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5vblVucmVhZENoYW5nZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbXB1dGVkOiB7XHJcbiAgICAgICAgc2VsZWN0ZWRUYWIoKSB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy50YWJzLmZpbmQoaSA9PiBpLmlkID09PSB0aGlzLnNlbGVjdGVkVGFiSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgbWV0aG9kczoge1xyXG4gICAgICAgIGkxOG5Gb3JtYXQ6IGkxOG4uZm9ybWF0LFxyXG4gICAgICAgIHNhdmUoKSB7XHJcbiAgICAgICAgICBwZXJzaXN0LnN0b3JlW1VzZXJTdG9yZS5nZXRDdXJyZW50VXNlcigpLmlkXSA9IHtcclxuICAgICAgICAgICAgdGFiczogdGhpcy50YWJzLFxyXG4gICAgICAgICAgICBib29rbWFya3M6IHRoaXMuYm9va21hcmtzXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25UYWJDb250ZXh0TWVudSh0YWIsIGUpIHtcclxuICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgbGV0IG15SW5kZXggPSBzZWxmLnRhYnMuaW5kZXhPZih0YWIpO1xyXG4gICAgICAgICAgbGV0IHRhYnNBZnRlck1lID0gc2VsZi50YWJzLmZpbHRlcigoXywgaWR4KSA9PiBpZHggPiBteUluZGV4KTtcclxuICAgICAgICAgIHVpLmNvbnRleHRNZW51cy5vcGVuKGUsIHVpLmNvbnRleHRNZW51cy5idWlsZC5tZW51KFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgIGxhYmVsOiBpMThuLmZvcm1hdChcIkNMT1NFXCIpLFxyXG4gICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnRhYnMubGVuZ3RoIDw9IDEsXHJcbiAgICAgICAgICAgICAgYWN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5vblRhYkNsb3NlQ2xpY2sodGFiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgICBsYWJlbDogaTE4bi5mb3JtYXQoXCJDTE9TRV9UQUJTX1RPX1JJR0hUXCIpLFxyXG4gICAgICAgICAgICAgIGRpc2FibGVkOiAhdGFic0FmdGVyTWUubGVuZ3RoLFxyXG4gICAgICAgICAgICAgIGFjdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYudGFicy5maWx0ZXIoKF8sIGlkeCkgPT4gaWR4ICE9IG15SW5kZXgpLmZvckVhY2goaSA9PiBvblRhYkNsb3NlQ2xpY2soaSkpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHR5cGU6IFwic2VwYXJhdG9yXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgIGxhYmVsOiBpMThuLmZvcm1hdChcIk1PVkVfVEFCX1RPX0xFRlRcIiksXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6ICFteUluZGV4LFxyXG4gICAgICAgICAgICAgIGFjdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxldCBbaXRlbV0gPSBzZWxmLnRhYnMuc3BsaWNlKG15SW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50YWJzLnNwbGljZShteUluZGV4IC0gMSwgMCwgaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNhdmUoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgICBsYWJlbDogaTE4bi5mb3JtYXQoXCJNT1ZFX1RBQl9UT19SSUdIVFwiKSxcclxuICAgICAgICAgICAgICBkaXNhYmxlZDogbXlJbmRleCA9PT0gKHNlbGYudGFicy5sZW5ndGggLSAxKSxcclxuICAgICAgICAgICAgICBhY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgW2l0ZW1dID0gc2VsZi50YWJzLnNwbGljZShteUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIHNlbGYudGFicy5zcGxpY2UobXlJbmRleCArIDEsIDAsIGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdHlwZTogXCJzZXBhcmF0b3JcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZm9ybWF0KFwiQUREX1RPX0JPT0tNQVJLU1wiKSxcclxuICAgICAgICAgICAgICBkaXNhYmxlZDogISFzZWxmLmJvb2ttYXJrcy5maW5kKGkgPT4gaS5wYXRobmFtZSA9PT0gdGFiLnBhdGhuYW1lKSxcclxuICAgICAgICAgICAgICBhY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmFkZEJvb2ttYXJrKHRhYik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgXSkpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc3luYyBvbkNoYW5uZWxTZWxlY3QoKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5pZ25vcmVTZWxlY3RPbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaWdub3JlU2VsZWN0T25jZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsZXQgc2VsZWN0ZWRUYWIgPSB0aGlzLnRhYnMuZmluZChpID0+IGkuaWQgPT09IHRoaXMuc2VsZWN0ZWRUYWJJZCk7XHJcbiAgICAgICAgICBsZXQgb2xkVGl0bGUgPSBzZWxlY3RlZFRhYj8udGl0bGU7XHJcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRUYWIpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRUYWIucGF0aG5hbWUgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkVGFiLmljb24gPSB0aGlzLmdldEljb24oc2VsZWN0ZWRUYWIucGF0aG5hbWUpO1xyXG4gICAgICAgICAgICB3aGlsZSAoZG9jdW1lbnQudGl0bGUgPT09IG9sZFRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgYXdhaXQgdXRpbHMuc2xlZXAoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGVjdGVkVGFiLnRpdGxlID0gZG9jdW1lbnQudGl0bGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblVucmVhZENoYW5nZSgpIHtcclxuICAgICAgICAgIHRoaXMudGFicy5mb3JFYWNoKCh0YWIpID0+IHtcclxuICAgICAgICAgICAgbGV0IHBhdGhuYW1lU3BsaXR0ZWQgPSB0YWIucGF0aG5hbWUuc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICAgICBpZiAocGF0aG5hbWVTcGxpdHRlZFsxXSA9PT0gXCJjaGFubmVsc1wiICYmIHBhdGhuYW1lU3BsaXR0ZWRbM10pIHtcclxuICAgICAgICAgICAgICB0YWIudW5yZWFkID0gUmVhZFN0YXRlU3RvcmUuZ2V0VW5yZWFkQ291bnQocGF0aG5hbWVTcGxpdHRlZFszXSkgPz8gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblZlcnRpY2FsU2Nyb2xsV2hlZWwoZSkge1xyXG4gICAgICAgICAgZS50YXJnZXQuc2Nyb2xsQnkoe1xyXG4gICAgICAgICAgICBsZWZ0OiBlLmRlbHRhWSxcclxuICAgICAgICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25OZXdUYWJDbGljaygpIHtcclxuICAgICAgICAgIHRoaXMuYWRkVGFiKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblRhYkNsaWNrKHRhYiwgZSkge1xyXG4gICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNsb3NlXCIpIHx8IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNsb3NlLWljb25cIikpIHJldHVybjtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUYWJJZCA9IHRhYi5pZDtcclxuICAgICAgICAgIHRoaXMuaWdub3JlU2VsZWN0T25jZSA9IHRydWU7XHJcbiAgICAgICAgICBSb3V0ZXIudHJhbnNpdGlvblRvKHRhYi5wYXRobmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblRhYkNsb3NlQ2xpY2sodGFiKSB7XHJcbiAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnRhYnMuaW5kZXhPZih0YWIpO1xyXG4gICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuO1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUYWJJZCA9PT0gdGFiLmlkKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXh0VGFiID0gdGhpcy50YWJzW2luZGV4ICsgMV0gfHwgdGhpcy50YWJzW2luZGV4IC0gMV07XHJcbiAgICAgICAgICAgIGlmIChuZXh0VGFiKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRhYklkID0gbmV4dFRhYi5pZDtcclxuICAgICAgICAgICAgICB0aGlzLmlnbm9yZVNlbGVjdE9uY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIFJvdXRlci50cmFuc2l0aW9uVG8obmV4dFRhYi5wYXRobmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMudGFicy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgdGhpcy5zYXZlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZGRUYWIodGFiID0ge30pIHtcclxuICAgICAgICAgIHRhYi5pZCA/Pz0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XHJcbiAgICAgICAgICB0YWIudGl0bGUgPz89IGRvY3VtZW50LnRpdGxlO1xyXG4gICAgICAgICAgdGFiLnBhdGhuYW1lID8/PSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICAgICAgICB0YWIuaWNvbiA/Pz0gdGhpcy5nZXRJY29uKHRhYi5wYXRobmFtZSk7XHJcbiAgICAgICAgICB0aGlzLnRhYnMucHVzaCh0YWIpO1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZFRhYklkID0gdGFiLmlkO1xyXG4gICAgICAgICAgdGhpcy5zYXZlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZGRCb29rbWFyayh0YWIpIHtcclxuICAgICAgICAgIHRoaXMuYm9va21hcmtzLnB1c2goeyAuLi50YWIgfSk7XHJcbiAgICAgICAgICB0aGlzLnNhdmUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQm9va21hcmtSZW5hbWVCbHVyKGJvb2ttYXJrLCAkZXZlbnQpIHtcclxuICAgICAgICAgIGJvb2ttYXJrLmluUmVuYW1lTW9kZSA9IGZhbHNlO1xyXG4gICAgICAgICAgYm9va21hcmsudGl0bGUgPSAkZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgICAgdGhpcy5zYXZlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkJvb2ttYXJrUmVuYW1lS2V5VXAoYm9va21hcmssICRldmVudCkge1xyXG4gICAgICAgICAgaWYgKCRldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xyXG4gICAgICAgICAgICBib29rbWFyay5pblJlbmFtZU1vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgYm9va21hcmsudGl0bGUgPSAkZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnNhdmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQm9va21hcmtDbGljayhib29rbWFyaykge1xyXG4gICAgICAgICAgbGV0IG9sZFRhYiA9IHRoaXMudGFicy5maW5kKGkgPT4gaS5wYXRobmFtZSA9PT0gYm9va21hcmsucGF0aG5hbWUpO1xyXG4gICAgICAgICAgaWYgKG9sZFRhYikge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGFiSWQgPSBvbGRUYWIuaWQ7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFkZFRhYih7IHBhdGhuYW1lOiBib29rbWFyay5wYXRobmFtZSB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzLmlnbm9yZVNlbGVjdE9uY2UgPSB0cnVlO1xyXG4gICAgICAgICAgUm91dGVyLnRyYW5zaXRpb25Ubyhib29rbWFyay5wYXRobmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkJvb2ttYXJrQ29udGV4dE1lbnUoYm9va21hcmssIGUpIHtcclxuICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgdWkuY29udGV4dE1lbnVzLm9wZW4oZSwgdWkuY29udGV4dE1lbnVzLmJ1aWxkLm1lbnUoW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZm9ybWF0KFwiREVMRVRFXCIpLFxyXG4gICAgICAgICAgICAgIGFjdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYub25Cb29rbWFya0RlbGV0ZShib29rbWFyayk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZm9ybWF0KFwiUkVOQU1FXCIpLFxyXG4gICAgICAgICAgICAgIGFjdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGJvb2ttYXJrLmluUmVuYW1lTW9kZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgXSkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25Cb29rbWFya0RlbGV0ZShib29rbWFyaykge1xyXG4gICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5ib29rbWFya3MuaW5kZXhPZihib29rbWFyayk7XHJcbiAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm47XHJcbiAgICAgICAgICB0aGlzLmJvb2ttYXJrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgdGhpcy5zYXZlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRJY29uKHBhdGhOYW1lKSB7XHJcbiAgICAgICAgICBsZXQgcGF0aG5hbWVTcGxpdHRlZCA9IHBhdGhOYW1lLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgIGlmIChwYXRobmFtZVNwbGl0dGVkWzFdID09PSBcImNoYW5uZWxzXCIpIHtcclxuICAgICAgICAgICAgaWYgKHBhdGhuYW1lU3BsaXR0ZWRbMl0gPT09IFwiQG1lXCIpIHtcclxuICAgICAgICAgICAgICBsZXQgY2hhbm5lbCA9IENoYW5uZWxTdG9yZS5nZXRDaGFubmVsKHBhdGhuYW1lU3BsaXR0ZWRbM10pO1xyXG4gICAgICAgICAgICAgIGlmIChjaGFubmVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbC5pc0dyb3VwRE0oKSAmJiBjaGFubmVsLmljb24pIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGBodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9jaGFubmVsLWljb25zLyR7Y2hhbm5lbC5pZH0vJHtjaGFubmVsLmljb259LndlYnA/c2l6ZT0zMmA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWwuaXNETSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGxldCB1c2VySWQgPSBjaGFubmVsLmdldFJlY2lwaWVudElkKCk7XHJcbiAgICAgICAgICAgICAgICAgIGxldCB1c2VyID0gVXNlclN0b3JlLmdldFVzZXIodXNlcklkKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKHVzZXI/LmF2YXRhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXZhdGFycy8ke3VzZXJJZH0vJHt1c2VyLmF2YXRhcn0ud2VicD9zaXplPTMyYDtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYGh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2VtYmVkL2F2YXRhcnMvJHt1c2VyLmRpc2NyaW1pbmF0b3IgJSA1fS5wbmdgO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGxldCBndWlsZCA9IEd1aWxkU3RvcmUuZ2V0R3VpbGQocGF0aG5hbWVTcGxpdHRlZFsyXSk7XHJcbiAgICAgICAgICAgICAgaWYgKGd1aWxkPy5pY29uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYGh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2ljb25zLyR7Z3VpbGQuaWR9LyR7Z3VpbGQuaWNvbn0ud2VicD9zaXplPTMyYDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXBwLmRpcmVjdGl2ZSgnZm9jdXMnLCB7XHJcbiAgICAgIG1vdW50ZWQoZWwpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGVsLmZvY3VzKCksIDEpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGFwcC5tb3VudCh0YWJzQ29udGFpbmVyKTtcclxuICAgIHN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XHJcbiAgICAgIGFwcC51bm1vdW50KCk7XHJcbiAgICAgIHRhYnNDb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbY2xhc3MqPVwidGl0bGVCYXItXCJdJykuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJlbmRcIiwgdGFic0NvbnRhaW5lcik7XHJcblxyXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKFxyXG4gICAgICB1dGlscy5pbnRlcnZhbChcclxuICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBwaXBXRWxtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2NsYXNzKj1cInBpY3R1cmVJblBpY3R1cmVXaW5kb3ctXCJdYCk7XHJcbiAgICAgICAgICBpZiAocGlwV0VsbSkge1xyXG4gICAgICAgICAgICBpZiAocGlwV0VsbT8uY2hpbGRyZW4/LlswXT8uZ2V0QXR0cmlidXRlPy4oXCJzdHlsZVwiKSAmJiAhV2luZG93U3RvcmUuaXNFbGVtZW50RnVsbFNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0eWxlID0gdXRpbHMucmVhY3QuZ2V0UHJvcHMocGlwV0VsbSwgaSA9PiBpPy5zdHlsZSk/LnN0eWxlO1xyXG4gICAgICAgICAgICAgIGlmIChzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHYgPSBzdHlsZS50cmFuc2Zvcm0uZmluZChpID0+IGkudHJhbnNsYXRlWSkudHJhbnNsYXRlWTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdiA9PT0gXCJvYmplY3RcIikgdiA9IHYuX3BhcmVudC5fdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBwaXBXRWxtLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIHBpcFdFbG0uZ2V0QXR0cmlidXRlKFwic3R5bGVcIikucmVwbGFjZSh0cmFuc2xhdGVZUmVnZXgsIGB0cmFuc2xhdGVZKCR7diAtIHRhYnNDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fXB4KWApKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIDEwMDBcclxuICAgICAgKVxyXG4gICAgKVxyXG4gIH0sXHJcbiAgdW5sb2FkKCkge1xyXG4gICAgdW5sb2FkZWQgPSB0cnVlO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJ1aSIsInN1YnNjcmlwdGlvbnMiLCJkb20iLCJwZXJzaXN0IiwiVXNlclN0b3JlIiwiRmx1eERpc3BhdGNoZXIiLCJSZWFkU3RhdGVTdG9yZSIsImkxOG4iLCJ1dGlscyIsIlJvdXRlciIsIkNoYW5uZWxTdG9yZSIsIkd1aWxkU3RvcmUiLCJXaW5kb3dTdG9yZSJdLCJtYXBwaW5ncyI6ImdwSUFNQSxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUM7QUFDckIsTUFBTSxlQUFlLEdBQUcsdUJBQXVCLENBQUM7QUFDaEQsWUFBZTtBQUNmLEVBQUUsTUFBTSxJQUFJLEdBQUc7QUFDZixJQUFJLE1BQU1BLHNCQUFFLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUM5QixJQUFJLElBQUksUUFBUTtBQUNoQixNQUFNLE9BQU87QUFDYixJQUFJQyx1QkFBYSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO0FBQ3JDLElBQUksTUFBTSxhQUFhLEdBQUdDLHVCQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ1AsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDO0FBQzlCLE1BQU0sSUFBSSxHQUFHO0FBQ2IsUUFBUSxPQUFPO0FBQ2YsVUFBVSxJQUFJLEVBQUUsRUFBRTtBQUNsQixVQUFVLFNBQVMsRUFBRSxFQUFF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
