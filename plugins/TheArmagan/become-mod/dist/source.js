(function(l,p,d,t){"use strict";function o(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var a=o(p),g={load(){let e={};d.subscriptions.push(l.contextMenus.patch("guild-context",(r,s)=>{r.props.children.push(l.contextMenus.build.item({type:"separator"}),l.contextMenus.build.item({type:"toggle",label:d.i18n.format("BECOME_MOD"),checked:!!e[s.guild.id],action:()=>{let i=s.guild.id;if(e[s.guild.id])t.FluxDispatcher.dispatch({type:"GUILD_ROLE_UPDATE",guildId:i,role:{id:i,permissions:e[s.guild.id].permissions}}),t.FluxDispatcher.dispatch({type:"GUILD_MEMBER_UPDATE",guildId:i,roles:e[s.guild.id].roles,user:t.UserStore.getCurrentUser()}),delete e[s.guild.id];else{let u=t.GuildStore.getGuild(i);e[i]={permissions:`${u.roles[u.id].permissions}`,roles:t.GuildMemberStore.getTrueMember(i,t.UserStore.getCurrentUser().id).roles},t.FluxDispatcher.dispatch({type:"GUILD_ROLE_UPDATE",guildId:i,role:{id:i,permissions:"8"}}),t.FluxDispatcher.dispatch({type:"GUILD_MEMBER_UPDATE",guildId:i,roles:Object.keys(u.roles),user:t.UserStore.getCurrentUser()})}}}))}),()=>{for(let r in e)t.FluxDispatcher.dispatch({type:"GUILD_ROLE_UPDATE",guildId:r,role:{id:r,permissions:e[r].permissions}}),t.FluxDispatcher.dispatch({type:"GUILD_MEMBER_UPDATE",guildId:r,roles:e[r].roles,user:t.UserStore.getCurrentUser()});e={}},a.default.interval(()=>{for(let r in e){if(!t.GuildStore.getGuild(r)){delete e[r];continue}t.FluxDispatcher.dispatch({type:"GUILD_MEMBER_UPDATE",guildId:r,roles:Object.keys(t.GuildStore.getGuild(r).roles),user:t.UserStore.getCurrentUser()})}},1e3))}};return g})($acord.ui,$acord.utils,$acord.extension,$acord.modules.common);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic291cmNlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29udGV4dE1lbnVzIH0gZnJvbSBcIkBhY29yZC91aVwiO1xyXG5pbXBvcnQgdXRpbHMgZnJvbSBcIkBhY29yZC91dGlsc1wiO1xyXG5pbXBvcnQgeyBpMThuLCBzdWJzY3JpcHRpb25zIH0gZnJvbSBcIkBhY29yZC9leHRlbnNpb25cIjtcclxuaW1wb3J0IHsgRmx1eERpc3BhdGNoZXIsIEd1aWxkU3RvcmUsIFVzZXJTdG9yZSwgR3VpbGRNZW1iZXJTdG9yZSB9IGZyb20gXCJAYWNvcmQvbW9kdWxlcy9jb21tb25cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBsb2FkKCkge1xyXG4gICAgbGV0IG9nRGF0YSA9IHt9O1xyXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKFxyXG4gICAgICBjb250ZXh0TWVudXMucGF0Y2goXCJndWlsZC1jb250ZXh0XCIsIChwcm9wcywgZGF0YSkgPT4ge1xyXG4gICAgICAgIHByb3BzLnByb3BzLmNoaWxkcmVuLnB1c2goXHJcbiAgICAgICAgICBjb250ZXh0TWVudXMuYnVpbGQuaXRlbSh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwic2VwYXJhdG9yXCJcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgY29udGV4dE1lbnVzLmJ1aWxkLml0ZW0oe1xyXG4gICAgICAgICAgICB0eXBlOiBcInRvZ2dsZVwiLFxyXG4gICAgICAgICAgICBsYWJlbDogaTE4bi5mb3JtYXQoXCJCRUNPTUVfTU9EXCIpLFxyXG4gICAgICAgICAgICBjaGVja2VkOiAhIW9nRGF0YVtkYXRhLmd1aWxkLmlkXSxcclxuICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IGd1aWxkSWQgPSBkYXRhLmd1aWxkLmlkO1xyXG4gICAgICAgICAgICAgIGlmIChvZ0RhdGFbZGF0YS5ndWlsZC5pZF0pIHtcclxuICAgICAgICAgICAgICAgIEZsdXhEaXNwYXRjaGVyLmRpc3BhdGNoKHtcclxuICAgICAgICAgICAgICAgICAgdHlwZTogXCJHVUlMRF9ST0xFX1VQREFURVwiLFxyXG4gICAgICAgICAgICAgICAgICBndWlsZElkOiBndWlsZElkLFxyXG4gICAgICAgICAgICAgICAgICByb2xlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGd1aWxkSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IG9nRGF0YVtkYXRhLmd1aWxkLmlkXS5wZXJtaXNzaW9ucyxcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBGbHV4RGlzcGF0Y2hlci5kaXNwYXRjaChcclxuICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiR1VJTERfTUVNQkVSX1VQREFURVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGd1aWxkSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZXM6IG9nRGF0YVtkYXRhLmd1aWxkLmlkXS5yb2xlcyxcclxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBVc2VyU3RvcmUuZ2V0Q3VycmVudFVzZXIoKVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIG9nRGF0YVtkYXRhLmd1aWxkLmlkXTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGd1aWxkID0gR3VpbGRTdG9yZS5nZXRHdWlsZChndWlsZElkKTtcclxuICAgICAgICAgICAgICAgIG9nRGF0YVtndWlsZElkXSA9IHtcclxuICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IGAke2d1aWxkLnJvbGVzW2d1aWxkLmlkXS5wZXJtaXNzaW9uc31gLFxyXG4gICAgICAgICAgICAgICAgICByb2xlczogR3VpbGRNZW1iZXJTdG9yZS5nZXRUcnVlTWVtYmVyKGd1aWxkSWQsIFVzZXJTdG9yZS5nZXRDdXJyZW50VXNlcigpLmlkKS5yb2xlc1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIEZsdXhEaXNwYXRjaGVyLmRpc3BhdGNoKHtcclxuICAgICAgICAgICAgICAgICAgdHlwZTogXCJHVUlMRF9ST0xFX1VQREFURVwiLFxyXG4gICAgICAgICAgICAgICAgICBndWlsZElkOiBndWlsZElkLFxyXG4gICAgICAgICAgICAgICAgICByb2xlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGd1aWxkSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IFwiOFwiLFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIEZsdXhEaXNwYXRjaGVyLmRpc3BhdGNoKFxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJHVUlMRF9NRU1CRVJfVVBEQVRFXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3VpbGRJZCxcclxuICAgICAgICAgICAgICAgICAgICByb2xlczogT2JqZWN0LmtleXMoZ3VpbGQucm9sZXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IFVzZXJTdG9yZS5nZXRDdXJyZW50VXNlcigpXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIClcclxuICAgICAgfSksXHJcbiAgICAgICgpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBndWlsZElkIGluIG9nRGF0YSkge1xyXG4gICAgICAgICAgRmx1eERpc3BhdGNoZXIuZGlzcGF0Y2goe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdVSUxEX1JPTEVfVVBEQVRFXCIsXHJcbiAgICAgICAgICAgIGd1aWxkSWQ6IGd1aWxkSWQsXHJcbiAgICAgICAgICAgIHJvbGU6IHtcclxuICAgICAgICAgICAgICBpZDogZ3VpbGRJZCxcclxuICAgICAgICAgICAgICBwZXJtaXNzaW9uczogb2dEYXRhW2d1aWxkSWRdLnBlcm1pc3Npb25zLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIEZsdXhEaXNwYXRjaGVyLmRpc3BhdGNoKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdHlwZTogXCJHVUlMRF9NRU1CRVJfVVBEQVRFXCIsXHJcbiAgICAgICAgICAgICAgZ3VpbGRJZCxcclxuICAgICAgICAgICAgICByb2xlczogb2dEYXRhW2d1aWxkSWRdLnJvbGVzLFxyXG4gICAgICAgICAgICAgIHVzZXI6IFVzZXJTdG9yZS5nZXRDdXJyZW50VXNlcigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9nRGF0YSA9IHt9O1xyXG4gICAgICB9LFxyXG4gICAgICB1dGlscy5pbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgZ3VpbGRJZCBpbiBvZ0RhdGEpIHtcclxuICAgICAgICAgIGxldCBndWlsZCA9IEd1aWxkU3RvcmUuZ2V0R3VpbGQoZ3VpbGRJZCk7XHJcbiAgICAgICAgICBpZiAoIWd1aWxkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBvZ0RhdGFbZ3VpbGRJZF07XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgRmx1eERpc3BhdGNoZXIuZGlzcGF0Y2goXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0eXBlOiBcIkdVSUxEX01FTUJFUl9VUERBVEVcIixcclxuICAgICAgICAgICAgICBndWlsZElkLFxyXG4gICAgICAgICAgICAgIHJvbGVzOiBPYmplY3Qua2V5cyhHdWlsZFN0b3JlLmdldEd1aWxkKGd1aWxkSWQpLnJvbGVzKSxcclxuICAgICAgICAgICAgICB1c2VyOiBVc2VyU3RvcmUuZ2V0Q3VycmVudFVzZXIoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMTAwMClcclxuICAgICk7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbInN1YnNjcmlwdGlvbnMiLCJjb250ZXh0TWVudXMiLCJpMThuIiwiRmx1eERpc3BhdGNoZXIiLCJVc2VyU3RvcmUiLCJHdWlsZFN0b3JlIiwiR3VpbGRNZW1iZXJTdG9yZSIsInV0aWxzIl0sIm1hcHBpbmdzIjoiOE1BSUEsWUFBZTtBQUNmLEVBQUUsSUFBSSxHQUFHO0FBQ1QsSUFBSSxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDcEIsSUFBSUEsdUJBQWEsQ0FBQyxJQUFJO0FBQ3RCLE1BQU1DLGVBQVksQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUMsS0FBSyxFQUFFLElBQUksS0FBSztBQUMzRCxRQUFRLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUk7QUFDakMsVUFBVUEsZUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7QUFDbEMsWUFBWSxJQUFJLEVBQUUsV0FBVztBQUM3QixXQUFXLENBQUM7QUFDWixVQUFVQSxlQUFZLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztBQUNsQyxZQUFZLElBQUksRUFBRSxRQUFRO0FBQzFCLFlBQVksS0FBSyxFQUFFQyxjQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztBQUM1QyxZQUFZLE9BQU8sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO0FBQzVDLFlBQVksTUFBTSxFQUFFLE1BQU07QUFDMUIsY0FBYyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztBQUMxQyxjQUFjLElBQUksTUFB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
