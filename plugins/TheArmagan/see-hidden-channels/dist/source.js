(function(a,u,d,n){"use strict";function o(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var s=o(a);const t={guildsToSee:new Set};var l={load(){n.subscriptions.push(s.default.after("can",u.PermissionStore,function(e,i){if(e[1]&&e[1].guild_id&&t.guildsToSee.has(e[1].guild_id))return!0})),n.subscriptions.push(d.contextMenus.patch("guild-context",(e,i)=>{e.props.children.push(d.contextMenus.build.item({type:"separator"}),d.contextMenus.build.item({type:"toggle",label:n.i18n.format("SEE_HIDDEN_CHANNELS"),checked:t.guildsToSee.has(i.guild.id),async action(){for(t.guildsToSee[t.guildsToSee.has(i.guild.id)?"delete":"add"](i.guild.id),u.Router.transitionTo("/channels/@me");await new Promise(r=>setTimeout(r,50)),!document.querySelector('[class*="sidebar-"] [class*="privateChannels-"]'););u.GuildActions.transitionToGuildSync(i.guild.id)}}))}))},unload(){t.guildsToSee.clear()}};return l})($acord.patcher,$acord.modules.common,$acord.ui,$acord.extension);
